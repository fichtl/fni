licenses(["notice"])

cc_binary(
    name = "pbtxt2taskflow",
    srcs = [
        "pbtxt2taskflow.cc",
        "//dni/framework:task_context.h",
        "//dni/framework:task_context_manager.h",
        "//dni/framework:dtype.h",
        "//dni/framework:datum.h",
        "//dni/framework:default_input_stream_handler.h",
        "//dni/framework:framework.h",
        "//dni/framework:graph_config.h",
        "//dni/framework:graph_output_stream.h",
        "//dni/framework:graph.h",
        "//dni/framework:input_side_data.h",
        "//dni/framework:input_stream.h",
        "//dni/framework:input_stream_handler.h",
        "//dni/framework:input_stream_manager.h",
        "//dni/framework:node_config.h",
        "//dni/framework:node.h",
        "//dni/framework:output_side_data.h",
        "//dni/framework:output_stream.h",
        "//dni/framework:output_stream_handler.h",
        "//dni/framework:output_stream_manager.h",
        "//dni/framework:task_register.h",
        "//dni/framework:subgraph.h",
        "//dni/framework:task.h",
        "//dni/framework:task_state.h",
        "//dni/framework:timestamp.h",
        "//dni/framework:utils/names.h",
        "//dni/framework:utils/tags.h",
        ###
        ###
        "//dni/framework:task_context_manager.cc",
        "//dni/framework:datum.cc",
        "//dni/framework:default_input_stream_handler.cc",
        "//dni/framework:graph.cc",
        "//dni/framework:graph_config.cc",
        "//dni/framework:input_side_data.cc",
        "//dni/framework:input_stream.cc",
        "//dni/framework:input_stream_handler.cc",
        "//dni/framework:input_stream_manager.cc",
        "//dni/framework:node.cc",
        "//dni/framework:node_config.cc",
        "//dni/framework:output_stream.cc",
        "//dni/framework:output_stream_handler.cc",
        "//dni/framework:output_stream_manager.cc",
        "//dni/framework:task.cc",
        "//dni/framework:utils/names.cc",
        "//dni/framework:utils/tags.cc",
    ],
    linkopts = ["-lpthread"],
    deps = [
        "//dni/framework:dni_cc_proto",
        "//dni/framework:stream_handler_cc_proto",
        "@taskflow",
    ],
)
